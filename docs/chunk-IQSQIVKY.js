import{$a as x,Db as S,Ea as w,Ib as k,Oa as C,Pa as b,R as f,Ra as y,Sa as M,W as p,X as _,Xa as e,Ya as i,Za as d,_a as v,cb as u,db as l,kb as P,mb as c,nb as g,ob as E,pa as h,ra as o}from"./chunk-QNUDJEJG.js";var V=(n,r)=>r.product.id;function T(n,r){if(n&1){let t=v();e(0,"button",9),u("click",function(a){return p(t),l().closeHover(),_(a.stopPropagation())}),d(1,"i",10),i()}}function I(n,r){n&1&&(e(0,"div",6),d(1,"i",11),e(2,"p",12),c(3,"Your cart is empty"),i()())}function F(n,r){if(n&1){let t=v();e(0,"div",13),d(1,"img",14),e(2,"div",15)(3,"h6",16),c(4),i(),e(5,"p",17),c(6),i(),e(7,"div",18)(8,"button",19),u("click",function(){let a=p(t).$implicit,s=l(2);return _(s.updateQuantity(a,a.quantity-1))}),d(9,"i",20),i(),e(10,"span"),c(11),i(),e(12,"button",19),u("click",function(){let a=p(t).$implicit,s=l(2);return _(s.updateQuantity(a,a.quantity+1))}),d(13,"i",21),i()()(),e(14,"button",22),u("click",function(){let a=p(t).$implicit,s=l(2);return _(s.removeFromCart(a.product.id))}),d(15,"i",23),i()()}if(n&2){let t=r.$implicit;o(),x("src",t.product.imageUrl,h)("alt",t.product.title),o(3),g(t.product.title),o(2),E("\u20B9",t.product.price),o(2),x("disabled",t.quantity<=1),o(3),g(t.quantity),o(),x("disabled",t.quantity>=t.product.stock)}}function H(n,r){if(n&1&&(e(0,"div",7),y(1,F,16,7,"div",13,V),i()),n&2){let t=l();o(),M(t.cart())}}function j(n,r){if(n&1){let t=v();e(0,"div",8)(1,"div",24)(2,"strong"),c(3,"Total Items:"),i(),e(4,"span"),c(5),i()(),e(6,"div",25)(7,"strong"),c(8,"Total Price:"),i(),e(9,"span",26),c(10),i()(),e(11,"button",27),u("click",function(){p(t);let a=l();return _(a.checkout())}),d(12,"i",28),c(13," Proceed to Checkout "),i()()}if(n&2){let t=l();o(5),g(t.totalItems()),o(5),E("\u20B9",t.totalValue()),o(),x("disabled",t.cart().length===0)}}var O=class n{cartService=f(k);cart=this.cartService.cart;totalValue=this.cartService.totalValue;totalItems=this.cartService.totalItems;isHoverMode=S(!1);updateQuantity(r,t){this.cartService.updateQuantity(r.product.id,t)}removeFromCart(r){this.cartService.removeFromCart(r)}checkout(){alert("Proceeding to checkout...")}closeHover(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-cart"]],inputs:{isHoverMode:[1,"isHoverMode"]},decls:10,vars:6,consts:[[1,"p-lg-5","p-2","w-100","overflow-auto","text-black"],[1,"cart-container","container-fluid","p-3","overflow-auto"],[1,"cart-header","d-flex","justify-content-between","align-items-center","mb-3"],[1,"fw-bold","mb-0"],[1,"bi","bi-cart","me-2"],[1,"btn","btn-sm","btn-outline-secondary"],[1,"text-center","text-muted","py-4"],[1,"cart-items","overflow-y-auto"],[1,"cart-footer","mt-3","pt-3","border-top"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"bi","bi-x-lg"],[1,"bi","bi-cart-x","display-6"],[1,"mt-2"],[1,"cart-item","d-flex","align-items-center","mb-3","border-bottom","pb-2"],[1,"cart-image","me-3",3,"src","alt"],[1,"flex-grow-1"],[1,"mb-1","text-truncate"],[1,"small","text-muted","mb-1"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],[1,"bi","bi-dash"],[1,"bi","bi-plus"],["title","Remove item",1,"btn","btn-sm","text-danger","ms-2",3,"click"],[1,"bi","bi-trash"],[1,"d-flex","justify-content-between","mb-2"],[1,"d-flex","justify-content-between","mb-3"],[1,"text-primary","fw-bold"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[1,"bi","bi-bag-check","me-2"]],template:function(t,m){t&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"h5",3),d(4,"i",4),c(5," My Cart "),i(),C(6,T,2,0,"button",5),i(),C(7,I,4,0,"div",6),C(8,H,3,0,"div",7),C(9,j,14,3,"div",8),i()()),t&2&&(o(),P("hover-mode",m.isHoverMode()),o(5),b(m.isHoverMode()?6:-1),o(),b(m.cart().length===0?7:-1),o(),b(m.cart().length>0?8:-1),o(),b(m.cart().length>0?9:-1))},styles:["[_nghost-%COMP%]   section[_ngcontent-%COMP%]{height:calc(100% - 5rem)}[_nghost-%COMP%]   .cart-container[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 2px 10px #00000014}[_nghost-%COMP%]   .cart-container.hover-mode[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;width:480px;max-height:500px;overflow:hidden;border:1px solid #e5e5e5;z-index:1050}[_nghost-%COMP%]   .cart-items[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding-right:4px}[_nghost-%COMP%]   .cart-item[_ngcontent-%COMP%]   .cart-image[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:8px;object-fit:cover}[_nghost-%COMP%]   .cart-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.95rem}[_nghost-%COMP%]   .cart-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]   .cart-footer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.95rem}"]})};export{O as a};
