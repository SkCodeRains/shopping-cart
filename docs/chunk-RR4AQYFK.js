import{a as ke,b as Ae,c as Y,e as q,i as xe}from"./chunk-ZYELYZZL.js";import{Aa as W,Ab as Re,Cb as ce,Db as Pe,Ea as x,Eb as Ie,Ga as S,I as oe,Ia as w,Ib as X,J as Se,M as U,Na as B,Oa as E,Pa as O,Q as Te,Qa as J,R as _,Ra as Z,Sa as Q,Ta as h,Ua as c,Va as d,W as f,Wa as F,X as g,_a as v,a as L,ab as j,b as V,bb as p,ca as A,db as u,eb as M,fa as z,fb as N,gb as R,hb as De,ia as se,ib as Ce,jb as P,kb as I,l as me,lb as Ee,mb as y,nb as K,ob as G,p as ne,pa as we,qb as Oe,r as ve,ra as a,rb as Me,sb as Ne,tb as ae,u as ye,ub as H,v as be,va as $,vb as le,wa as re,wb as k,xa as C}from"./chunk-QNUDJEJG.js";var ee=class t{constructor(e){this.http=e}reloadTrigger=A(0);products=A([]);reload(){this.reloadTrigger.update(e=>e+1)}getProductById(e){return this.products().find(i=>i.id===e)}getRelatedProducts(e){return this.products().filter(i=>i.id!==e.id&&(i.category===e.category||i.brand===e.brand||i.tags?.some(n=>e.tags?.includes(n))))}updateStockAfterCheckout(e){let i=this.products().map(n=>{let o=e.find(s=>s.product.id===n.id);return o?V(L({},n),{stock:Math.max(0,n.stock-o.quantity)}):n});this.products.set(i)}static \u0275fac=function(i){return new(i||t)(Te(q))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};function Je(t,e,i,n){let o=window&&!!window.document&&window.document.documentElement,s=o&&e?window:i;if(t&&(s=t&&o&&typeof t=="string"?Ze(t,i.nativeElement,n):t,!s))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return s}function Ze(t,e,i){return(i?window.document:e).querySelector(t)}function de(t){return t&&!t.firstChange}function Qe(){return typeof window<"u"}var Ke={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},Ye={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},ue=class{constructor(e=!0){this.vertical=e,this.propsMap=e?Ke:Ye}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}};function qe(t,e,i){return!!(t&&e||!i&&e)}function Xe({windowElement:t,axis:e}){return et({axis:e,isWindow:tt(t)},t)}function et(t,e){let i=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return V(L({},t),{container:i})}function tt(t){return["Window","global"].some(i=>Object.prototype.toString.call(t).includes(i))}function _e(t,e){return t?e.document.documentElement:null}function Be(t,e){let i=ot(e);return e.isWindow?it(i,t,e):nt(i,t,e)}function it(t,e,i){let{axis:n,container:o,isWindow:s}=i,{offsetHeightKey:r,clientHeightKey:l}=Fe(n),b=t+He(_e(s,o),n,s),m=Ge(e.nativeElement,s,r,l),D=st(e.nativeElement,n,s)+m;return{height:t,scrolled:b,totalToScroll:D,isWindow:s}}function nt(t,e,i){let{axis:n,container:o}=i,s=o[n.scrollTopKey()],r=o[n.scrollHeightKey()];return{height:t,scrolled:s,totalToScroll:r,isWindow:!1}}function Fe(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function ot({container:t,isWindow:e,axis:i}){let{offsetHeightKey:n,clientHeightKey:o}=Fe(i);return Ge(t,e,n,o)}function Ge(t,e,i,n){if(isNaN(t[i])){let o=_e(e,t);return o?o[n]:0}else return t[i]}function st(t,e,i){let n=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[n]+He(t,e,i)}function He(t,e,i){let n=e.pageYOffsetKey(),o=e.scrollTopKey(),s=e.offsetTopKey();return isNaN(window.pageYOffset)?_e(i,t)[o]:t.ownerDocument?t.ownerDocument.defaultView[n]:t[s]}function rt(t,e={down:0,up:0},i){let n,o;if(t.totalToScroll<=0)return!1;let s=t.isWindow?t.scrolled:t.height+t.scrolled;if(i)n=(t.totalToScroll-s)/t.totalToScroll,o=(e?.down?e.down:0)/10;else{let l=t.scrolled+(t.totalToScroll-s);n=t.scrolled/l,o=(e?.up?e.up:0)/10}return n<=o}function at(t,e){return t<e.scrolled}function lt(t,e,i){let n=at(t,e);return{fire:rt(e,i,n),scrollDown:n}}var he=class{constructor(e){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,e)}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,i){this.updateScrollPosition(e),this.updateTotalToScroll(i)}updateTriggeredFlag(e,i){i?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,i){return i?this.triggered.down===e:this.triggered.up===e}};function ct(t){let{scrollContainer:e,scrollWindow:i,element:n,fromRoot:o}=t,s=Xe({axis:new ue(!t.horizontal),windowElement:Je(e,i,n,o)}),r=new he({totalToScroll:Be(n,s).totalToScroll}),l={container:s.container,throttle:t.throttle},b={up:t.upDistance,down:t.downDistance};return dt(l).pipe(ve(()=>me(Be(n,s))),ne(m=>ut(r.lastScrollPosition,m,b)),oe(({stats:m})=>r.updateScroll(m.scrolled,m.totalToScroll)),be(({fire:m,scrollDown:D,stats:{totalToScroll:T}})=>qe(t.alwaysCallback,m,r.isTriggeredScroll(T,D))),oe(({scrollDown:m,stats:{totalToScroll:D}})=>{r.updateTriggeredFlag(D,m)}),ne(ht))}function dt(t){let e=ye(t.container,"scroll");return t.throttle&&(e=e.pipe(Se(t.throttle,void 0,{leading:!0,trailing:!0}))),e}function ut(t,e,i){let{scrollDown:n,fire:o}=lt(t,e,i);return{scrollDown:n,fire:o,stats:e}}var pe={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function ht(t){let{scrollDown:e,stats:{scrolled:i}}=t;return{type:e?pe.DOWN:pe.UP,payload:{currentScrollPosition:i}}}var Le=(()=>{let e=class e{constructor(n,o){this.element=n,this.zone=o,this.scrolled=new $,this.scrolledUp=new $,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:n,infiniteScrollDisabled:o,infiniteScrollDistance:s}){let r=de(n),l=de(o),b=de(s),m=!l&&!this.infiniteScrollDisabled||l&&!o.currentValue||b;(r||l||b)&&(this.destroyScroller(),m&&this.setup())}ngOnDestroy(){this.destroyScroller()}setup(){Qe()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=ct({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(n=>this.handleOnScroll(n))})}handleOnScroll({type:n,payload:o}){let s=n===pe.DOWN?this.scrolled:this.scrolledUp;pt(s)&&this.zone.run(()=>s.emit(o))}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)(W(se),W(re))},e.\u0275dir=S({type:e,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[z]});let t=e;return t})();function pt(t){return t.observed??t.observers.length>0}var ft=(t,e)=>({"btn-outline-primary":t,"btn-secondary disabled":e});function gt(t,e){if(t&1){let i=v();c(0,"button",14),p("click",function(o){f(i);let s=u();return g(s.add(s.product(),o))}),F(1,"i",15),y(2," Add to Cart "),d()}if(t&2){let i=u();h("ngClass",H(1,ft,i.product().stock>0,i.product().stock<=0))}}function mt(t,e){if(t&1){let i=v();c(0,"div",13)(1,"button",16),p("click",function(){f(i);let o=u();return g(o.cartService.decreaseQuantity(o.product().id))}),F(2,"i",17),d(),c(3,"span",18),y(4),d(),c(5,"button",19),p("click",function(){f(i);let o=u();return g(o.cartService.increaseQuantity(o.product().id))}),F(6,"i",20),d()()}if(t&2){let i=u();a(),h("disabled",i.cartService.getQuantity(i.product().id)<=1),a(3),G(" ",i.cartService.getQuantity(i.product().id)," "),a(),h("disabled",i.cartService.getQuantity(i.product().id)>=i.product().stock)}}var ie=class t{product=Pe.required();addToCart=ce();openProduct=ce();cartService=_(X);add(e,i){i.preventDefault(),this.addToCart.emit(e)}open(e){this.openProduct.emit(e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=x({type:t,selectors:[["app-product"]],inputs:{product:[1,"product"]},outputs:{addToCart:"addToCart",openProduct:"openProduct"},decls:18,vars:13,consts:[[1,"p-2","position-relative","overflow-hidden"],[1,"card","product-card","shadow-sm","overflow-hidden","pt-2","shadow","h-100","w-100"],[1,"w-100","center",3,"click"],[1,"card-img-top",3,"src","alt"],[1,"card-body","d-flex","flex-column","overflow-y-auto","position-absolute","bottom-0","w-100","start-0"],[1,"card-title","text-truncate",3,"click"],[1,"card-text","small","text-muted","flex-grow-1",3,"click"],[1,"mt-auto"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0","text-primary","fw-bold"],[1,"badge"],[1,"mt-2"],[1,"btn","btn-sm","w-100",3,"ngClass"],[1,"d-flex","justify-content-between","align-items-center","gap-2"],[1,"btn","btn-sm","w-100",3,"click","ngClass"],[1,"bi","bi-cart-plus","me-1"],[1,"btn","btn-sm","btn-outline-secondary","flex-grow-1",3,"click","disabled"],[1,"bi","bi-dash"],[1,"fw-semibold"],[1,"btn","btn-sm","btn-outline-primary","flex-grow-1",3,"click","disabled"],[1,"bi","bi-plus"]],template:function(i,n){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),p("click",function(){return n.open(n.product())}),F(3,"img",3),d(),c(4,"div",4)(5,"h5",5),p("click",function(){return n.open(n.product())}),y(6),d(),c(7,"p",6),p("click",function(){return n.open(n.product())}),y(8),d(),c(9,"div",7)(10,"div",8)(11,"h6",9),y(12),d(),c(13,"span",10),y(14),d()(),c(15,"div",11),E(16,gt,3,4,"button",12)(17,mt,7,3,"div",13),d()()()()()),i&2&&(a(3),h("src",n.product().imageUrl,we)("alt",n.product().title),a(3),K(n.product().title),a(2),G(" ",n.product().description," "),a(4),G("\u20B9",n.product().price),a(),I("bg-success",n.product().stock>5)("bg-warning",n.product().stock<=5&&n.product().stock>0)("bg-danger",n.product().stock<=0),a(),G(" ",n.product().stock>0?n.product().stock>5?"In Stock":"Low Stock":"Out of Stock"," "),a(2),O(n.cartService.isInCart(n.product().id)?17:16))},dependencies:[Y,ke],styles:["[_nghost-%COMP%]   .card[_ngcontent-%COMP%]{width:450px!important;height:350px!important;cursor:pointer;border-radius:.75rem;transition:transform .2s ease,box-shadow .2s ease}[_nghost-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 20px #0000001a}[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:10rem;width:70%;align-items:center;object-fit:cover;border-top-left-radius:.75rem;border-top-right-radius:.75rem}[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})};var Ve={API_PATH:"/shopping-cart/data/"};var yt=(t,e,i)=>({$implicit:t,pages:e,disabled:i}),bt=t=>({disabled:!0,currentPage:t}),St=(t,e,i)=>({disabled:t,$implicit:e,currentPage:i}),fe=(t,e)=>({disabled:t,currentPage:e}),Tt=t=>({disabled:t});function wt(t,e){t&1&&(c(0,"span",13),j(1,7),d())}function Dt(t,e){t&1&&(c(0,"span",13),j(1,8),d())}function Ct(t,e){t&1&&(c(0,"span",13),j(1,9),d())}function Et(t,e){t&1&&(c(0,"span",13),j(1,10),d())}function Ot(t,e){t&1&&y(0,"...")}function Mt(t,e){if(t&1&&y(0),t&2){let i=e.$implicit;K(i)}}function Nt(t,e){}function Rt(t,e){if(t&1&&(c(0,"a",16),w(1,Nt,0,0,"ng-template",12),d()),t&2){let i=u(2).$implicit,n=u(),o=P(9);a(),h("ngTemplateOutlet",(n.tplEllipsis==null?null:n.tplEllipsis.templateRef)||o)("ngTemplateOutletContext",ae(2,bt,i))}}function Pt(t,e){}function It(t,e){if(t&1){let i=v();c(0,"a",18),p("click",function(o){f(i);let s=u().$implicit;return u(2).selectPage(s),g(o.preventDefault())}),w(1,Pt,0,0,"ng-template",12),d()}if(t&2){let i=u().$implicit,n=u(),o=n.$implicit,s=n.disabled,r=u(),l=P(11);B("tabindex",s?"-1":null)("aria-disabled",s?"true":null)("aria-current",i===o?"page":null),a(),h("ngTemplateOutlet",(r.tplNumber==null?null:r.tplNumber.templateRef)||l)("ngTemplateOutletContext",le(5,St,s,i,o))}}function kt(t,e){if(t&1&&(c(0,"li",15),E(1,Rt,2,4,"a",16)(2,It,2,9,"a",17),d()),t&2){let i=e.$implicit,n=u(),o=n.$implicit,s=n.disabled,r=u();I("active",i===o)("disabled",r.isEllipsis(i)||s),a(),O(r.isEllipsis(i)?1:2)}}function At(t,e){if(t&1&&Z(0,kt,3,5,"li",14,J),t&2){let i=e.pages;Q(i)}}function xt(t,e){}function Bt(t,e){if(t&1){let i=v();c(0,"li",15)(1,"a",19),p("click",function(o){return f(i),u().selectPage(1),g(o.preventDefault())}),w(2,xt,0,0,"ng-template",12),d()()}if(t&2){let i=u(),n=P(1);I("disabled",i.previousDisabled()),a(),B("tabindex",i.previousDisabled()?"-1":null)("aria-disabled",i.previousDisabled()?"true":null),a(),h("ngTemplateOutlet",(i.tplFirst==null?null:i.tplFirst.templateRef)||n)("ngTemplateOutletContext",H(6,fe,i.previousDisabled(),i.page))}}function Ft(t,e){}function Gt(t,e){if(t&1){let i=v();c(0,"li",15)(1,"a",20),p("click",function(o){f(i);let s=u();return s.selectPage(s.page-1),g(o.preventDefault())}),w(2,Ft,0,0,"ng-template",12),d()()}if(t&2){let i=u(),n=P(3);I("disabled",i.previousDisabled()),a(),B("tabindex",i.previousDisabled()?"-1":null)("aria-disabled",i.previousDisabled()?"true":null),a(),h("ngTemplateOutlet",(i.tplPrevious==null?null:i.tplPrevious.templateRef)||n)("ngTemplateOutletContext",ae(6,Tt,i.previousDisabled()))}}function Ht(t,e){}function Lt(t,e){}function Vt(t,e){if(t&1){let i=v();c(0,"li",15)(1,"a",21),p("click",function(o){f(i);let s=u();return s.selectPage(s.page+1),g(o.preventDefault())}),w(2,Lt,0,0,"ng-template",12),d()()}if(t&2){let i=u(),n=P(5);I("disabled",i.nextDisabled()),a(),B("tabindex",i.nextDisabled()?"-1":null)("aria-disabled",i.nextDisabled()?"true":null),a(),h("ngTemplateOutlet",(i.tplNext==null?null:i.tplNext.templateRef)||n)("ngTemplateOutletContext",H(6,fe,i.nextDisabled(),i.page))}}function $t(t,e){}function jt(t,e){if(t&1){let i=v();c(0,"li",15)(1,"a",22),p("click",function(o){f(i);let s=u();return s.selectPage(s.pageCount),g(o.preventDefault())}),w(2,$t,0,0,"ng-template",12),d()()}if(t&2){let i=u(),n=P(7);I("disabled",i.nextDisabled()),a(),B("tabindex",i.nextDisabled()?"-1":null)("aria-disabled",i.nextDisabled()?"true":null),a(),h("ngTemplateOutlet",(i.tplLast==null?null:i.tplLast.templateRef)||n)("ngTemplateOutletContext",H(6,fe,i.nextDisabled(),i.page))}}var Ut={animation:!0,transitionTimerDelayMs:5};function zt(t){return parseInt(`${t}`,10)}function Wt(t,e,i=0){return Math.max(Math.min(t,e),i)}function $e(t){return!isNaN(zt(t))}var{transitionTimerDelayMs:Nn}=Ut;var Rn=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var Pn=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var In=new Date(1882,10,12),kn=new Date(2174,10,25);var An=1e3*60*60*24;var ge=1080,Jt=24*ge,Zt=12*ge+793,xn=29*Jt+Zt,Bn=11*ge+204;var Qt=(()=>{let e=class e{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kt=(()=>{let e=class e{constructor(){this.templateRef=_(C)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=S({type:e,selectors:[["ng-template","ngbPaginationEllipsis",""]]});let t=e;return t})(),Yt=(()=>{let e=class e{constructor(){this.templateRef=_(C)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=S({type:e,selectors:[["ng-template","ngbPaginationFirst",""]]});let t=e;return t})(),qt=(()=>{let e=class e{constructor(){this.templateRef=_(C)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=S({type:e,selectors:[["ng-template","ngbPaginationLast",""]]});let t=e;return t})(),Xt=(()=>{let e=class e{constructor(){this.templateRef=_(C)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=S({type:e,selectors:[["ng-template","ngbPaginationNext",""]]});let t=e;return t})(),ei=(()=>{let e=class e{constructor(){this.templateRef=_(C)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=S({type:e,selectors:[["ng-template","ngbPaginationNumber",""]]});let t=e;return t})(),ti=(()=>{let e=class e{constructor(){this.templateRef=_(C)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=S({type:e,selectors:[["ng-template","ngbPaginationPrevious",""]]});let t=e;return t})(),ii=(()=>{let e=class e{constructor(){this.templateRef=_(C)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=S({type:e,selectors:[["ng-template","ngbPaginationPages",""]]});let t=e;return t})(),je=(()=>{let e=class e{constructor(){this._config=_(Qt),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new $(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(n){this._updatePages(n)}ngOnChanges(n){this._updatePages(this.page)}isEllipsis(n){return n===-1}_applyEllipses(n,o){this.ellipses&&(n>0&&(n>2?this.pages.unshift(-1):n===2&&this.pages.unshift(2),this.pages.unshift(1)),o<this.pageCount&&(o<this.pageCount-2?this.pages.push(-1):o===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let n=0,o=this.pageCount,s=Math.floor(this.maxSize/2),r=this.maxSize%2===0?s-1:s;return this.page<=s?o=this.maxSize:this.pageCount-this.page<s?n=this.pageCount-this.maxSize:(n=this.page-s-1,o=this.page+r),[n,o]}_applyPagination(){let o=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize,s=o+this.maxSize;return[o,s]}_setPageInRange(n){let o=this.page;this.page=Wt(n,this.pageCount,1),this.page!==o&&$e(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(n){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),$e(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let o=1;o<=this.pageCount;o++)this.pages.push(o);if(this._setPageInRange(n),this.maxSize>0&&this.pageCount>this.maxSize){let o=0,s=this.pageCount;this.rotate?[o,s]=this._applyRotation():[o,s]=this._applyPagination(),this.pages=this.pages.slice(o,s),this._applyEllipses(o,s)}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=x({type:e,selectors:[["ngb-pagination"]],contentQueries:function(o,s,r){if(o&1&&(M(r,Kt,5),M(r,Yt,5),M(r,qt,5),M(r,Xt,5),M(r,ei,5),M(r,ti,5),M(r,ii,5)),o&2){let l;N(l=R())&&(s.tplEllipsis=l.first),N(l=R())&&(s.tplFirst=l.first),N(l=R())&&(s.tplLast=l.first),N(l=R())&&(s.tplNext=l.first),N(l=R())&&(s.tplNumber=l.first),N(l=R())&&(s.tplPrevious=l.first),N(l=R())&&(s.tplPages=l.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[z],decls:20,vars:12,consts:()=>{let n;n=$localize`:@@ngb.pagination.first:««`;let o;o=$localize`:@@ngb.pagination.previous:«`;let s;s=$localize`:@@ngb.pagination.next:»`;let r;r=$localize`:@@ngb.pagination.last:»»`;let l;l=$localize`:@@ngb.pagination.first-aria:First`;let b;b=$localize`:@@ngb.pagination.previous-aria:Previous`;let m;m=$localize`:@@ngb.pagination.next-aria:Next`;let D;return D=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],n,o,s,r,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",b,"href","",1,"page-link",3,"click"],["aria-label",m,"href","",1,"page-link",3,"click"],["aria-label",D,"href","",1,"page-link",3,"click"]]},template:function(o,s){if(o&1&&(w(0,wt,2,0,"ng-template",null,0,k)(2,Dt,2,0,"ng-template",null,1,k)(4,Ct,2,0,"ng-template",null,2,k)(6,Et,2,0,"ng-template",null,3,k)(8,Ot,1,0,"ng-template",null,4,k)(10,Mt,1,1,"ng-template",null,5,k)(12,At,2,0,"ng-template",null,6,k),c(14,"ul"),E(15,Bt,3,9,"li",11),E(16,Gt,3,8,"li",11),w(17,Ht,0,0,"ng-template",12),E(18,Vt,3,9,"li",11),E(19,jt,3,9,"li",11),d()),o&2){let r=P(13);a(14),Ee("pagination"+(s.size?" pagination-"+s.size:"")),a(),O(s.boundaryLinks?15:-1),a(),O(s.directionLinks?16:-1),a(),h("ngTemplateOutlet",(s.tplPages==null?null:s.tplPages.templateRef)||r)("ngTemplateOutletContext",le(8,yt,s.page,s.pages,s.disabled)),a(),O(s.directionLinks?18:-1),a(),O(s.boundaryLinks?19:-1)}},dependencies:[Ae],encapsulation:2,changeDetection:0});let t=e;return t})();var ni=["scrollContainer"];function oi(t,e){if(t&1){let i=v();c(0,"app-product",9),p("openProduct",function(o){f(i);let s=u();return g(s.openProduct(o))})("addToCart",function(o){f(i);let s=u();return g(s.addToCart(o))}),d()}if(t&2){let i=e.$implicit;h("product",i)}}var Ue=class t{http=_(q);productService=_(ee);cartService=_(X);router=_(xe);scrollContainer=Ie("scrollContainer");totalElement=Re(()=>this.productService.products().length);PATH=Ve.API_PATH;data=A([]);size=0;navigationConfig=A({page:1,size:5});ngAfterViewInit(){this.getProductsData()}onScroll(){}isScrollView(){return this.scrollContainer()?.nativeElement.scrollHeight<=this.scrollContainer()?.nativeElement.clientHeight}getProductsData(){this.productService.products().length==0?this.http.get(this.PATH+"products.json").subscribe({next:e=>{this.productService.products.set(e),this.navigate(1)},error:e=>console.error(e)}):this.onScroll()}addToCart(e){this.cartService.addToCart(e)}openProduct(e){this.router.navigate(["product",e.id],{state:{product:e}})}navigate(e){let n=this.productService.products().slice(this.navigationConfig().size*e-5,this.navigationConfig().size*e);this.navigationConfig().page=e,this.data.set(n)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=x({type:t,selectors:[["app-product-list-component"]],viewQuery:function(i,n){i&1&&De(n.scrollContainer,ni,5),i&2&&Ce()},decls:12,vars:6,consts:[["scrollContainer",""],[1,"product-list","center","p-4"],["infiniteScroll","",1,"search-results","h-100","products","center","w-100","overflow-y-auto","row-cols-lg-2","flex-wrap",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],[1,"mt-4","w-100"],[2,"max-width","460px",3,"product"],[1,"w-100","p-4","px-3","py-1"],[1,"w-100","center"],[1,"center"],["aria-label","Default pagination",1,"w-100",3,"pageChange","collectionSize","pageSize","page"],[2,"max-width","460px",3,"openProduct","addToCart","product"]],template:function(i,n){if(i&1){let o=v();c(0,"section",1)(1,"div",2,0),p("scrolled",function(){return f(o),g(n.onScroll())}),c(3,"div",3)(4,"h3"),y(5,"Products You\u2019ll Absolutely Love "),d()(),Z(6,oi,1,1,"app-product",4,J),c(8,"div",5)(9,"div",6)(10,"div",7)(11,"ngb-pagination",8),p("pageChange",function(r){return f(o),g(n.navigate(r))}),Ne("pageChange",function(r){return f(o),Me(n.navigationConfig().page,r)||(n.navigationConfig().page=r),g(r)}),d()()()()()()}i&2&&(a(),h("infiniteScrollDistance",1)("infiniteScrollThrottle",50)("scrollWindow",!1),a(5),Q(n.data()),a(5),h("collectionSize",n.totalElement())("pageSize",n.navigationConfig().size),Oe("page",n.navigationConfig().page))},dependencies:[Le,Y,ie,je],styles:["[_nghost-%COMP%]   .search-results[_ngcontent-%COMP%]{max-width:1000px}[_nghost-%COMP%]   .product-list[_ngcontent-%COMP%]{height:calc(100% - 5rem)}[_nghost-%COMP%]  ngb-pagination .pagination{margin:0}"]})};export{Le as a,ie as b,Ue as c};
